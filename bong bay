7
5
1 2 3 4 5
5
3 10 1 2 5
7
12 48 28 21 67 75 85
8
245 108 162 400 274 358 366 166
10
866 919 840 944 761 895 701 912 848 799
2
468 335
1
170


#include "stdio.h"

int T,n,a[100],visit[100],ans, ch[100];

void BT(int k,int kq){
	int kq1;
	if(k == n){
		for(int j = 1; j <= n; j++){
			if(visit[j] == 0){
				kq += a[j];
			}
		}
		if(ans < kq){
			ans = kq;
		}
	}
	else
	{
		for (int i = 1; i <= n; i++)
		{
			if(visit[i] == 0){
				visit[i] = 1;
				int x,y;
				for(int j = i; j >= 0; j--){
					if(visit[j] == 0){
						x = a[j];
						break;
					}
				}
				for(int j = i; j <= n + 1; j++){
					if(visit[j] == 0){
						y = a[j];
						break;
					}
				}
				kq1 = x * y;
				ch[k] = i;
				BT(k + 1, kq + kq1);
				visit[i] = 0;
			}
		}
	}

}
int main(){
	freopen("input.txt", "r", stdin);
	scanf("%d", &T);
	for (int tc = 1; tc <= T; tc++)
	{
		scanf("%d", &n);
		for (int i = 1; i <= n; i++)
		{
			ch[i] = 0;
			scanf("%d", &a[i]);
			visit[i] = 0;
		}
		a[0] = 1;
		a[n + 1] = 1;
		ans = 0;
		BT(1,0);
		printf("#%d %d\n", tc, ans);
	}
	return 0;
}

// input ban bong bay
50
9
49 26 22 17 74 65 10 55 60
9
99 31 28 79 82 77 95 86 19
6
24 41 22 97 39 41
3
34 41 81
5
84 39 33 59 81
3
59 78 77
9
90 70 30 93 86 92 17 29 59
3
71 14 92
6
99 84 56 68 76 99
8
89 32 42 44 83 38 24 67
8
27 92 81 90 74 88 53 90
3
56 89 38
9
81 98 69 49 36 19 56 43 33
5
49 65 28 13 32
10
38 28 88 54 45 79 86 45 14 79
10
62 46 30 93 27 46 69 59 16 77
9
55 97 46 10 12 13 28 12 94
7
65 24 39 18 10 70 83
7
44 91 39 84 78 95 90
9
27 64 98 25 93 11 82 93 41
4
87 38 52 97
6
33 46 31 87 70 45
5
29 88 94 44 74
3
60 21 98
9
16 64 51 16 44 31 75 28 24
8
48 24 57 93 96 86 87 100
9
39 45 49 50 41 84 61 49 64
7
56 46 12 24 47 62 54
3
39 12 94
8
85 29 45 73 39 76 43 11
10
47 29 94 43 45 82 88 30 21 78
8
18 13 37 83 74 32 96 30
7
22 56 81 94 92 29 81
6
75 31 35 29 53 22
6
89 13 66 15 53 42
9
10 64 42 100 42 32 81 17 68
3
29 63 92
5
77 73 94 18 40
5
63 89 91 24 23
9
66 88 72 21 98 72 58 20 98
6
46 59 19 53 95 20
6
57 15 34 69 26 39
6
95 56 45 14 71 10
6
32 30 17 97 24 55
10
83 10 19 56 90 75 42 92 24 66
10
84 88 44 29 85 43 27 67 32 71
10
63 37 18 82 71 32 15 56 74 98
9
85 95 83 95 100 93 72 65 18
8
32 42 77 99 65 38 51 58
6
31 76 93 98 66 53
     
    // output
    #1 22323
#2 46499
#3 11348
#4 2916
#5 14700
#6 4697
#7 45302
#8 6716
#9 30759
#10 29289
#11 43110
#12 2240
#13 26688
#14 4642
#15 42591
#16 42858
#17 24722
#18 16636
#19 36599
#20 44268
#21 13157
#22 12363
#23 15762
#24 6076
#25 17937
#26 40936
#27 27488
#28 12726
#29 3854
#30 26798
#31 44986
#32 22200
#33 28107
#34 10575
#35 18005
#36 35378
#37 2852
#38 14232
#39 9401
#40 53312
#41 14114
#42 10899
#43 15355
#44 13219
#45 48227
#46 43860
#47 40820
#48 48610
#49 23851
#50 18419

