7
5
1 2 3 4 5
5
3 10 1 2 5
7
12 48 28 21 67 75 85
8
245 108 162 400 274 358 366 166
10
866 919 840 944 761 895 701 912 848 799
2
468 335
1
170


#include "stdio.h"

int T,n,a[100],visit[100],ans, ch[100];

void BT(int k,int kq){
	int kq1;
	if(k == n){
		for(int j = 1; j <= n; j++){
			if(visit[j] == 0){
				kq += a[j];
			}
		}
		if(ans < kq){
			ans = kq;
		}
	}
	else
	{
		for (int i = 1; i <= n; i++)
		{
			if(visit[i] == 0){
				visit[i] = 1;
				int x,y;
				for(int j = i; j >= 0; j--){
					if(visit[j] == 0){
						x = a[j];
						break;
					}
				}
				for(int j = i; j <= n + 1; j++){
					if(visit[j] == 0){
						y = a[j];
						break;
					}
				}
				kq1 = x * y;
				ch[k] = i;
				BT(k + 1, kq + kq1);
				visit[i] = 0;
			}
		}
	}

}
int main(){
	freopen("input.txt", "r", stdin);
	scanf("%d", &T);
	for (int tc = 1; tc <= T; tc++)
	{
		scanf("%d", &n);
		for (int i = 1; i <= n; i++)
		{
			ch[i] = 0;
			scanf("%d", &a[i]);
			visit[i] = 0;
		}
		a[0] = 1;
		a[n + 1] = 1;
		ans = 0;
		BT(1,0);
		printf("#%d %d\n", tc, ans);
	}
	return 0;
}
